import React from 'react'
import config from '../../chatBot/config'
import MessageParser from '../../chatBot/MessageParser'
import ActionProvider from '../../chatBot/ActionProvider'
import Chatbot from 'react-chatbot-kit'
import 'react-chatbot-kit/build/main.css'
import './ChatBot.scss'

export default function ChatBot() {
    const handleOpenBot = () => {
        const bot = document.querySelector('.react-chatbot-kit-chat-container')
        bot.classList.toggle('react-chatbot-kit-chat-container-open')
    }
    return (
        <div>
            <Chatbot
                config={config}
                headerText='Votre assistant virtuel'
                ariaLabelText='Votre assistant virtuel'
                placeholderText='Posez votre question ici'
                messageParser={MessageParser}
                actionProvider={ActionProvider}
            // messageHistory={loadMessages()}
            // saveMessages={saveMessages}
            // validator={validateInput}
            // runInitialMessagesWithHistory
            />
            <div onClick={handleOpenBot} className="bot-svg-container">
                <svg className="bot-svg" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M507.904 264.192c73.728 0 133.12 59.392 133.12 133.12v33.792c-44.032-5.12-89.088-7.168-133.12-7.168-44.032 0-89.088 2.048-133.12 7.168v-33.792c0-72.704 59.392-133.12 133.12-133.12z m241.664 389.12l13.312-116.736c29.696 5.12 52.224 29.696 52.224 57.344 0 32.768-29.696 59.392-65.536 59.392z m-484.352 0c-35.84 0-65.536-26.624-65.536-59.392 0-28.672 22.528-52.224 52.224-57.344l13.312 116.736z m438.272-193.536c-67.584-7.168-132.096-10.24-194.56-10.24s-128 3.072-194.56 10.24c-22.528 2.048-38.912 22.528-35.84 44.032l20.48 198.656c2.048 18.432 16.384 33.792 35.84 35.84 57.344 7.168 115.712 10.24 175.104 10.24s117.76-3.072 175.104-10.24c18.432-2.048 33.792-17.408 35.84-35.84l20.48-198.656c0-22.528-15.36-41.984-37.888-44.032zM395.264 640c-16.384 0-28.672-16.384-28.672-37.888s13.312-37.888 28.672-37.888 28.672 16.384 28.672 37.888-12.288 37.888-28.672 37.888z m171.008 41.984c0 2.048-1.024 4.096-2.048 5.12-1.024 1.024-3.072 2.048-5.12 2.048h-101.376c-2.048 0-4.096-1.024-5.12-2.048-1.024-1.024-2.048-3.072-2.048-5.12v-18.432c0-4.096 3.072-7.168 7.168-7.168h2.048c4.096 0 7.168 3.072 7.168 7.168v9.216h82.944v-9.216c0-4.096 3.072-7.168 7.168-7.168h2.048c4.096 0 7.168 3.072 7.168 7.168v18.432z m54.272-41.984c-16.384 0-28.672-16.384-28.672-37.888s13.312-37.888 28.672-37.888 28.672 16.384 28.672 37.888-12.288 37.888-28.672 37.888z" /></svg>
                <svg className="bot-help" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M712.96 538.88c2.56-2.986667 4.693333-5.546667 6.826667-8.533333 0.853333-1.28 2.133333-2.56 2.986666-3.84 1.706667-2.133333 2.986667-4.266667 4.693334-6.4 0.853333-1.28 2.133333-2.986667 2.986666-4.266667 2.133333-3.413333 4.266667-6.4 6.4-9.813333 0-0.426667 0.426667-0.426667 0.426667-0.853334 25.6-41.813333 40.106667-91.733333 38.826667-145.066666-3.413333-140.8-119.466667-255.573333-260.266667-257.706667-148.053333-2.133333-268.8 116.906667-268.8 264.533333v2.986667c0.426667 18.773333 15.36 33.706667 34.133333 33.706667 19.2 0 34.133333-15.786667 34.133334-34.986667V366.933333c0-113.066667 96.426667-204.373333 211.2-195.84 96.853333 7.253333 174.933333 86.613333 180.906666 183.466667 4.693333 77.653333-35.84 146.346667-98.133333 182.186667-71.253333 38.826667-122.88 109.653333-135.253333 193.28-2.986667 20.48 13.226667 38.826667 33.706666 38.826666 16.64 0 31.146667-11.946667 33.706667-28.586666 8.96-61.44 46.506667-113.493333 98.56-142.933334 6.826667-3.84 13.226667-7.68 19.626667-11.946666l3.84-2.56c2.133333-1.28 3.84-2.986667 5.973333-4.266667 1.706667-1.28 3.413333-2.56 5.12-4.266667 2.56-2.133333 5.12-4.266667 8.106667-6.4 1.28-1.28 2.986667-2.56 4.266666-3.84 1.706667-1.28 3.413333-2.986667 5.12-4.693333 2.56-2.133333 4.693333-4.693333 7.253334-6.826667l4.693333-4.693333c1.706667-1.706667 2.986667-3.413333 4.693333-5.12 1.706667-0.853333 2.986667-2.133333 4.266667-3.84z" fill="#4C4C4C" /><path d="M499.2 878.933333m-42.666667 0a42.666667 42.666667 0 1 0 85.333334 0 42.666667 42.666667 0 1 0-85.333334 0Z" fill="#4C4C4C" /></svg>
            </div>
        </div>
    )
}
